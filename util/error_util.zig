const std = @import("std");
const builtin = @import("builtin");

pub fn posixErrToAnyErr(err: std.c.E) anyerror {
    if (builtin.os.tag == .macos) {
        return switch (err) {
            .SUCCESS => unreachable,
            .PERM => error.OperationNotPermitted,
            .NOENT => error.FileNotFound,
            .SRCH => error.ProcessNotFound,
            .INTR => error.Interrupted,
            .IO => error.InputOutput,
            .NXIO => error.DeviceNotConfigured,
            .@"2BIG" => error.ArgumentListTooLong,
            .NOEXEC => error.ExecFormat,
            .BADF => error.BadFileDescriptor,
            .CHILD => error.NoChildProcesses,
            .DEADLK => error.Deadlock,
            .NOMEM => error.OutOfMemory,
            .ACCES => error.AccessDenied,
            .FAULT => error.BadAddress,
            .NOTBLK => error.BlockDeviceRequired,
            .BUSY => error.DeviceBusy,
            .EXIST => error.FileExists,
            .XDEV => error.CrossDeviceLink,
            .NODEV => error.OperationNotSupportedByDevice,
            .NOTDIR => error.NotDir,
            .ISDIR => error.IsDir,
            .INVAL => error.InvalidArgument,
            .NFILE => error.TooManyOpenFilesSystem,
            .MFILE => error.TooManyOpenFiles,
            .NOTTY => error.InappropriateIoctlForDevice,
            .TXTBSY => error.TextFileBusy,
            .FBIG => error.FileTooLarge,
            .NOSPC => error.NoSpaceLeft,
            .SPIPE => error.IllegalSeek,
            .ROFS => error.ReadOnlyFileSystem,
            .MLINK => error.TooManyLinks,
            .PIPE => error.BrokenPipe,
            .DOM => error.DomainError,
            .RANGE => error.ResultTooLarge,
            .AGAIN => error.WouldBlock,
            .INPROGRESS => error.OperationInProgress,
            .ALREADY => error.OperationAlreadyInProgress,
            .NOTSOCK => error.NotASocket,
            .DESTADDRREQ => error.DestinationAddressRequired,
            .MSGSIZE => error.MessageTooLong,
            .PROTOTYPE => error.ProtocolWrongTypeForSocket,
            .NOPROTOOPT => error.ProtocolNotAvailable,
            .PROTONOSUPPORT => error.ProtocolNotSupported,
            .SOCKTNOSUPPORT => error.SocketTypeNotSupported,
            .OPNOTSUPP => error.OperationNotSupported,
            .PFNOSUPPORT => error.ProtocolFamilyNotSupported,
            .AFNOSUPPORT => error.AddressFamilyNotSupported,
            .ADDRINUSE => error.AddressInUse,
            .ADDRNOTAVAIL => error.AddressNotAvailable,
            .NETDOWN => error.NetworkDown,
            .NETUNREACH => error.NetworkUnreachable,
            .NETRESET => error.NetworkReset,
            .CONNABORTED => error.ConnectionAborted,
            .CONNRESET => error.ConnectionReset,
            .NOBUFS => error.NoBufferSpaceAvailable,
            .ISCONN => error.SocketIsConnected,
            .NOTCONN => error.SocketNotConnected,
            .SHUTDOWN => error.SocketShutdown,
            .TOOMANYREFS => error.TooManyReferences,
            .TIMEDOUT => error.TimedOut,
            .CONNREFUSED => error.ConnectionRefused,
            .LOOP => error.SymbolicLinkLoop,
            .NAMETOOLONG => error.NameTooLong,
            .HOSTDOWN => error.HostDown,
            .HOSTUNREACH => error.HostUnreachable,
            .NOTEMPTY => error.DirectoryNotEmpty,
            .PROCLIM => error.ProcessLimit,
            .USERS => error.TooManyUsers,
            .DQUOT => error.DiskQuotaExceeded,
            .STALE => error.StaleFileHandle,
            .REMOTE => error.RemoteError,
            .BADRPC => error.BadRPC,
            .RPCMISMATCH => error.RPCMismatch,
            .PROGUNAVAIL => error.ProgramUnavailable,
            .PROGMISMATCH => error.ProgramMismatch,
            .PROCUNAVAIL => error.ProcedureUnavailable,
            .NOLCK => error.NoLocksAvailable,
            .NOSYS => error.SystemNotImplemented,
            .FTYPE => error.InappropriateFileType,
            .AUTH => error.AuthenticationError,
            .NEEDAUTH => error.NeedAuthenticator,
            .PWROFF => error.DevicePowerOff,
            .DEVERR => error.DeviceError,
            .OVERFLOW => error.ValueTooLarge,
            .BADEXEC => error.BadExecutable,
            .BADARCH => error.BadCPUType,
            .SHLIBVERS => error.SharedLibraryVersionMismatch,
            .BADMACHO => error.MalformedMacho,
            .CANCELED => error.OperationCanceled,
            .IDRM => error.IdentifierRemoved,
            .NOMSG => error.NoMessage,
            .ILSEQ => error.IllegalByteSequence,
            .NOATTR => error.AttributeNotFound,
            .BADMSG => error.BadMessage,
            .MULTIHOP => error.MultihopAttempted,
            .NODATA => error.NoData,
            .NOLINK => error.LinkSevered,
            .NOSR => error.NoStreamResources,
            .NOSTR => error.NotAStream,
            .PROTO => error.ProtocolError,
            .TIME => error.StreamIoctlTimeout,
            .NOPOLICY => error.NoPolicy,
            .NOTRECOVERABLE => error.StateNotRecoverable,
            .OWNERDEAD => error.OwnerDied,
            .QFULL => error.InterfaceOutputQueueFull,
            _ => error.Unexpected,
        };
    } else if (builtin.os.tag == .linux) {
        return switch (err) {
            .SUCCESS => unreachable,
            .PERM => error.OperationNotPermitted,
            .NOENT => error.FileNotFound,
            .SRCH => error.ProcessNotFound,
            .INTR => error.Interrupted,
            .IO => error.InputOutput,
            .NXIO => error.DeviceNotConfigured,
            .@"2BIG" => error.ArgumentListTooLong,
            .NOEXEC => error.ExecFormat,
            .BADF => error.BadFileDescriptor,
            .CHILD => error.NoChildProcesses,
            .AGAIN => error.WouldBlock,
            .NOMEM => error.OutOfMemory,
            .ACCES => error.AccessDenied,
            .FAULT => error.BadAddress,
            .NOTBLK => error.BlockDeviceRequired,
            .BUSY => error.DeviceBusy,
            .EXIST => error.FileExists,
            .XDEV => error.CrossDeviceLink,
            .NODEV => error.OperationNotSupportedByDevice,
            .NOTDIR => error.NotDir,
            .ISDIR => error.IsDir,
            .INVAL => error.InvalidArgument,
            .NFILE => error.TooManyOpenFilesSystem,
            .MFILE => error.TooManyOpenFiles,
            .NOTTY => error.InappropriateIoctlForDevice,
            .TXTBSY => error.TextFileBusy,
            .FBIG => error.FileTooLarge,
            .NOSPC => error.NoSpaceLeft,
            .SPIPE => error.IllegalSeek,
            .ROFS => error.ReadOnlyFileSystem,
            .MLINK => error.TooManyLinks,
            .PIPE => error.BrokenPipe,
            .DOM => error.DomainError,
            .RANGE => error.ResultTooLarge,
            .DEADLK => error.Deadlock,
            .NAMETOOLONG => error.NameTooLong,
            .NOLCK => error.NoLocksAvailable,
            .NOSYS => error.SystemNotImplemented,
            .NOTEMPTY => error.DirectoryNotEmpty,
            .LOOP => error.SymbolicLinkLoop,
            .NOMSG => error.NoMessage,
            .IDRM => error.IdentifierRemoved,
            .CHRNG => error.ChannelNumberOutOfRange,
            .L2NSYNC => error.Level2NotSynchronized,
            .L3HLT => error.Level3Halted,
            .L3RST => error.Level3Reset,
            .LNRNG => error.LinkNumberOutOfRange,
            .UNATCH => error.ProtocolDriverNotAttached,
            .NOCSI => error.NoCSIStructureAvailable,
            .L2HLT => error.Level2Halted,
            .BADE => error.InvalidExchange,
            .BADR => error.InvalidRequestDescriptor,
            .XFULL => error.ExchangeFull,
            .NOANO => error.NoAnode,
            .BADRQC => error.InvalidRequestCode,
            .BADSLT => error.InvalidSlot,
            .BFONT => error.BadFontFileFormat,
            .NOSTR => error.NotAStream,
            .NODATA => error.NoData,
            .TIME => error.TimerExpired,
            .NOSR => error.OutOfStreamsResources,
            .NONET => error.MachineNotOnNetwork,
            .NOPKG => error.PackageNotInstalled,
            .REMOTE => error.ObjectIsRemote,
            .NOLINK => error.LinkSevered,
            .ADV => error.AdvertiseError,
            .SRMNT => error.SrmountError,
            .COMM => error.CommunicationError,
            .PROTO => error.ProtocolError,
            .MULTIHOP => error.MultihopAttempted,
            .DOTDOT => error.RFSError,
            .BADMSG => error.BadMessage,
            .OVERFLOW => error.ValueTooLarge,
            .NOTUNIQ => error.NameNotUnique,
            .BADFD => error.FileDescriptorBadState,
            .REMCHG => error.RemoteAddressChanged,
            .LIBACC => error.LibAccess,
            .LIBBAD => error.LibBad,
            .LIBSCN => error.LibScn,
            .LIBMAX => error.LibMax,
            .LIBEXEC => error.LibExec,
            .ILSEQ => error.IllegalByteSequence,
            .RESTART => error.InterruptedRestart,
            .STRPIPE => error.StreamsPipeError,
            .USERS => error.TooManyUsers,
            .NOTSOCK => error.NotASocket,
            .DESTADDRREQ => error.DestinationAddressRequired,
            .MSGSIZE => error.MessageTooLong,
            .PROTOTYPE => error.ProtocolWrongTypeForSocket,
            .NOPROTOOPT => error.ProtocolNotAvailable,
            .PROTONOSUPPORT => error.ProtocolNotSupported,
            .SOCKTNOSUPPORT => error.SocketTypeNotSupported,
            .OPNOTSUPP => error.OperationNotSupported,
            .PFNOSUPPORT => error.ProtocolFamilyNotSupported,
            .AFNOSUPPORT => error.AddressFamilyNotSupported,
            .ADDRINUSE => error.AddressInUse,
            .ADDRNOTAVAIL => error.AddressNotAvailable,
            .NETDOWN => error.NetworkDown,
            .NETUNREACH => error.NetworkUnreachable,
            .NETRESET => error.NetworkReset,
            .CONNABORTED => error.ConnectionAborted,
            .CONNRESET => error.ConnectionReset,
            .NOBUFS => error.NoBufferSpaceAvailable,
            .ISCONN => error.SocketIsConnected,
            .NOTCONN => error.SocketNotConnected,
            .SHUTDOWN => error.SocketShutdown,
            .TOOMANYREFS => error.TooManyReferences,
            .TIMEDOUT => error.TimedOut,
            .CONNREFUSED => error.ConnectionRefused,
            .HOSTDOWN => error.HostDown,
            .HOSTUNREACH => error.HostUnreachable,
            .ALREADY => error.OperationAlreadyInProgress,
            .INPROGRESS => error.OperationInProgress,
            .STALE => error.StaleFileHandle,
            .UCLEAN => error.StructureNeedsCleaning,
            .NOTNAM => error.NotNamedTypeFile,
            .NAVAIL => error.NoXenixSemaphores,
            .ISNAM => error.IsNamedTypeFile,
            .REMOTEIO => error.RemoteIOError,
            .DQUOT => error.DiskQuotaExceeded,
            .NOMEDIUM => error.NoMedium,
            .MEDIUMTYPE => error.WrongMediumType,
            .CANCELED => error.OperationCanceled,
            .NOKEY => error.RequiredKeyNotAvailable,
            .KEYEXPIRED => error.KeyExpired,
            .KEYREVOKED => error.KeyRevoked,
            .KEYREJECTED => error.KeyRejected,
            .OWNERDEAD => error.OwnerDied,
            .NOTRECOVERABLE => error.StateNotRecoverable,
            .RFKILL => error.RFKill,
            .HWPOISON => error.MemoryPageHardwareError,
            .NSRNODATA => error.NSRNoData,
            .NSRFORMERR => error.NSRFormErr,
            .NSRSERVFAIL => error.NSRServFail,
            .NSRNOTFOUND => error.NSRNotFound,
            .NSRNOTIMP => error.NSRNotImp,
            .NSRREFUSED => error.NSRRefused,
            .NSRBADQUERY => error.NSRBadQuery,
            .NSRBADNAME => error.NSRBadName,
            .NSRBADFAMILY => error.NSRBadFamily,
            .NSRBADRESP => error.NSRBadResp,
            .NSRCONNREFUSED => error.NSRConnRefused,
            .NSRTIMEOUT => error.NSRTimeout,
            .NSROF => error.NSREOF,
            .NSRFILE => error.NSRFile,
            .NSRNOMEM => error.NSRNoMem,
            .NSRDESTRUCTION => error.NSRDestruction,
            .NSRQUERYDOMAINTOOLONG => error.NSRQueryDomainTooLong,
            .NSRCNAMELOOP => error.NSRCnameLoop,
            _ => error.Unexpected,
        };
    } else {
        @compileError("Unsupported platform");
    }
}
